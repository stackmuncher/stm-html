<!doctype html>
<html lang="en">

{% include "includes/head.html" %}

<body>
  {% include "includes/top-nav.html" %}
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-3">
        <h1><small><code>{{keyword}}</code></small></h1>
        <ul class="mt-3 pl-3">
          <li class="mb-1">Used by <i>{{engineers.hits.total.value}}</i> engineers</li>
          <li class="mb-1">Mentioned in
            {% if refs.aggregations.refs.buckets | length > 199 %}
            more than
            {% endif %}
            {{refs.aggregations.refs.buckets | length}} packages</li>
        </ul>

        {% include "includes/truncated_search_msg.html" %}

        {% if refs.aggregations.refs.buckets | length > 0 %}
        <h3>Related packages</h3>
        <ul class="list-unstyled">
          {% for ref in refs.aggregations.refs.buckets | sort(attribute="key") %}
          <li class="text-truncate mb-1">
            {% if ref.key | length > 40 %}
            <a title="Used {{ref.doc_count}} times, {{ref.key}}" href="/_pkg/{{ref.key}}">{{ref.key}}</a>
            {% else %}
            <a title="Used {{ref.doc_count}} times" href="/_pkg/{{ref.key}}">{{ref.key}}</a>
            {% endif %}
          </li>
          {% endfor %}
        </ul>
        {% else %}
        <h3>Not found</h3>
        <p>New engineer reports are added every few minutes.</p>
        <p>Registered users can set up alerts for package use by engineers. <a
            href="mailto:hello@stackmuncher.com">Contact us</a>
          for full access.</p>
        {% endif %}
      </div>

      <div class="col-md-9">
        <main role="main">
          <div class="row">
            {% for engineer in engineers.hits.hits %}
            <div class="col-md-4">
              {% include "includes/engineer-card.html" %}
            </div>
            {% endfor %}
          </div>
        </main>
      </div>

    </div>
  </div>
</body>

</html>